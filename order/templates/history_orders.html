<div class="row justify-content-center">
    <div class="col-auto mt-2">
        <h3 class="current-order-title">Order History</h3>
    </div>
</div>
<div class="row d-flex justify-content-center">
    {% if orders %}
    {% for order in orders %}
        {% if order.status == 'Pending' %}
        <div class="container-fluid">
            <div class="row">
                <div data-order-id="{{ order.id }}" data-edit-mode="false" class="col-12 col-sm-10 container history-order-container order">
                    <div class="container row">
                        <div class="col-12 col-md-3 order-info">
                            <p>Order #{{ order.id }}</p>
                            <p class="text-capitalize"> Status: <strong>{{ order.status }}</strong></p>
                            <p>{{ order.order_date|date:"F j, Y" }} </p>
                        </div>
                        <div class="col-auto flex-fill order-items">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">Product</th>
                                        <th scope="col" class="product-quantity">Quantity</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for item in order.items.all %}
                                    <tr>
                                        <td class="product-name">{{ item.product.name }}</td>
                                        <td class="product-quantity">{{ item.quantity }}</td>
                                    </tr>
                                    {% endfor %}
                                    
                                </tbody>
                            </table>
                        </div>
                        <div class="col-12 col-sm-3 d-flex flex-column-reverse">
                            <div class="col-12 text-center">
                                <h6>Total Price: â‚¬{{ order.total_price }}</h6>
                            </div>



                            <div class="col-12 text-center edit-btn {% if editing_order %}d-none{% else %}d-block{% endif %}">
                                <form method="GET" action="{% url 'edit_order' order.id %}">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-outline-secondary" >Edit</button>
                                </form>
                            </div>


                            <div class="col-12 text-center cancel-btn {% if editing_order %}d-block{% else %}d-none{% endif %}">
                                <button type="submit" class="btn btn-outline-danger">cancel</button>
                            </div>



                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <p>No previous orders found.</p>
        {% endif %}
    {% endfor %}
    {% endif %}
    
</div>
